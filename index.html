<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tic Tac Toe</title>
    <link rel="stylesheet" href="./styles/styles.css" />
    <link rel="stylesheet" href="./styles/reset.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Chicle&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- Container for Grid -->
    <div class="empty"></div>
    <!-- Main Container -->
    <div class="mainContainer">
      <h1 class="title">Tic-Tac-Toe</h1>
      <!-- GameBoard -->
      <div class="container">
        <!-- aria-atomic makes sure entire message is read -->
        <h2
          id="game-status"
          class="turn"
          role="status"
          aria-live="polite"
          aria-atomic="true"
        ></h2>
        <div class="timerContainer">
          <div class="timerBar" id="timerBar"></div>
          <span class="timerText" id="timerText"></span>
        </div>
        <div
          class="board"
          tabindex="0"
          role="group"
          aria-label="tic-tac-toe board"
          aria-describedby="game-instructions game-status"
        ></div>
        <p id="game-instructions" class="game-instructions">
          Need help? Press <kbd>?</kbd> to view keyboard shortcuts!
        </p>
        <div class="undoContainer">
          <button type="button" class="undoBtn" disabled>Undo Move</button>
        </div>
        <div class="resetBtn">
          <button type="button" class="resetGame">New Round</button>
          <button type="button" class="resetScore">New Game</button>
        </div>
      </div>
      <!-- ScoreBoard -->
      <div class="scoreBoardContainer">
        <div class="scoreBoard">
          <h4 class="scoreBoardLabel">SCOREBOARD</h4>
          <div class="playerXScore"><p id="playerXScore"></p></div>
          <div class="playerOScore"><p id="playerOScore"></p></div>
        </div>
      </div>
      <h4 class="author">
        Created By: <a href="https://github.com/VarushSiva">@VarushSiva</a>
      </h4>
    </div>
    <!-- Colour Palette -->
    <div class="colourPalette">
      <h3 class="paletteTitle">Themes</h3>
      <!-- Default -->
      <button
        type="button"
        class="themeBtn"
        data-theme="default"
        aria-label="Default theme"
      >
        <span class="themeName">Default</span>
        <div class="themePreview">
          <span style="background: #a0ddff"></span>
          <span style="background: #758ecd"></span>
          <span style="background: #c1cefe"></span>
          <span style="background: #7189ff"></span>
          <span style="background: #624cab"></span>
        </div>
      </button>

      <!-- Halloween -->
      <button
        type="button"
        class="themeBtn"
        data-theme="halloween"
        aria-label="Halloween theme"
      >
        <span class="themeName">Halloween</span>
        <div class="themePreview">
          <span style="background: #f4a259"></span>
          <span style="background: #4a4a4a"></span>
          <span style="background: #2d2d2d"></span>
          <span style="background: #8b4513"></span>
          <span style="background: #ff6b35"></span>
        </div>
      </button>

      <!-- Christmas -->
      <button
        type="button"
        class="themeBtn"
        data-theme="christmas"
        aria-label="Christmas theme"
      >
        <span class="themeName">Christmas</span>
        <div class="themePreview">
          <span style="background: #c41e3a"></span>
          <span style="background: #b97b3a"></span>
          <span style="background: #0f8a5f"></span>
          <span style="background: #50c952"></span>
          <span style="background: #ffe5b4"></span>
        </div>
      </button>

      <!-- Valentine -->
      <button
        type="button"
        class="themeBtn"
        data-theme="valentine"
        aria-label="Valentines theme"
      >
        <span class="themeName">Valentines</span>
        <div class="themePreview">
          <span style="background: #ff6b9d"></span>
          <span style="background: #a4133c"></span>
          <span style="background: #ffb3ba"></span>
          <span style="background: #ffc9de"></span>
          <span style="background: #c9184a"></span>
        </div>
      </button>
    </div>
    <!-- Settings Panel -->
    <div class="settingsOverlay" id="settingsOverlay" aria-hidden="true">
      <div
        class="settingsModal"
        role="dialog"
        aria-labelledby="settingsTitle"
        aria-modal="true"
      >
        <div class="settingsHeader">
          <h2 id="settingsTitle">Settings</h2>
          <button
            type="button"
            class="closeSettings"
            aria-label="Close settings"
          >
            ×
          </button>
        </div>
        <div class="settingsContent">
          <!-- Game Settings Section -->
          <div class="settingsSection">
            <h3 class="sectionTitle">Game Settings</h3>
            <!-- Move Timer -->
            <div class="settingItem">
              <label for="enableTimer">
                <input type="checkbox" id="enableTimer" />
                <span>Enable Move Timer</span>
              </label>
              <p class="settingDescription" id="enableTimerDescription"></p>
            </div>
          </div>
          <div class="settingsSection">
            <h3 class="sectionTitle">Accessibility</h3>
            <!-- ReduceMotion -->
            <div class="settingItem">
              <label for="reduceMotion">
                <input type="checkbox" id="reduceMotion" />
                <span>Reduce Motion</span>
              </label>
              <p class="settingDescription">
                Disables animations and transitions
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Player Setup Modal -->
    <div class="playerSetupOverlay" id="playerSetupOverlay" aria-hidden="false">
      <div
        class="playerSetupModal"
        role="dialog"
        aria-labelledby="playerSetupTitle"
        aria-modal="true"
      >
        <div class="playerSetupHeader">
          <h2 id="playerSetupTitle">Player Setup</h2>
        </div>
        <div class="playerSetupContent">
          <div class="playerInputGroup">
            <label for="playerXName">Player X Name: </label>
            <input
              type="text"
              id="playerXName"
              maxlength="15"
              placeholder="Player X"
              aria-label="Enter Player X name"
            />
          </div>

          <div class="playerInputGroup" id="playerOGroup">
            <label for="playerOName">Player O Name: </label>
            <input
              type="text"
              id="playerOName"
              maxlength="15"
              placeholder="Player O"
              aria-label="Enter Player O name"
            />
          </div>

          <div class="playerInputGroup">
            <label for="aiToggle" class="aiToggleLabel"
              ><input type="checkbox" id="aiToggle" /><span
                >Play Against AI</span
              >
            </label>
          </div>

          <div
            class="playerInputGroup aiDifficultyGroup"
            id="aiDifficultyGroup"
            style="display: none"
          >
            <label for="aiDifficulty">AI Difficulty: </label>
            <select id="aiDifficulty" aria-label="Select AI Difficulty">
              <option value="easy">Easy</option>
              <option value="medium" selected>Medium</option>
              <option value="hard">Hard</option>
            </select>
          </div>

          <button type="button" class="startGameBtn">Start Game</button>
        </div>
      </div>
    </div>
    <!-- Settings Button -->
    <button
      type="button"
      class="settingsBtn"
      aria-label="Open accessibility settings"
    >
      <span aria-hidden="true"><i class="fa-solid fa-gear"></i></span> Settings
    </button>
    <!-- Keyboard Shortcuts Button -->
    <button
      type="button"
      class="shortcutsBtn"
      aria-label="View keyboard shortcuts"
    >
      <span aria-hidden="true"><i class="fa-solid fa-keyboard"></i></span>
      Shortcuts
    </button>
    <!-- Keyboard Shortcuts Modal -->
    <div class="shortcutsOverlay" id="shortcutsOverlay" aria-hidden="true">
      <div
        class="shortcutsModal"
        role="dialog"
        aria-labelledby="shortcutsTitle"
        aria-modal="true"
      >
        <div class="shortcutsHeader">
          <h2 id="shortcutsTitle">Shortcuts</h2>
          <button
            type="button"
            class="closeShortcuts"
            aria-label="Close shortcuts"
          >
            ×
          </button>
        </div>
        <div class="shortcutsContent">
          <!-- Game Shortcuts -->
          <div class="shortcutSection">
            <h3>Game Controls</h3>
            <div class="shortcutItem">
              <kbd>Tab</kbd>
              <span>Next Item</span>
            </div>
            <div class="shortcutItem">
              <kbd>Arrow Keys</kbd>
              <span>Navigate between Cells when Focused</span>
            </div>
            <div class="shortcutItem">
              <kbd>Enter</kbd>
              <p id="divider">/</p>
              <kbd>Space</kbd>
              <span>Click / Place Token</span>
            </div>
            <div class="shortcutItem">
              <kbd>B</kbd>
              <span>Focus the Board</span>
            </div>
            <div class="shortcutItem">
              <kbd>Z</kbd>
              <span>Undo last move</span>
            </div>
            <div class="shortcutItem">
              <kbd>N</kbd>
              <span>New Round</span>
            </div>
            <div class="shortcutItem">
              <kbd>R</kbd>
              <span>New Game (Reset All)</span>
            </div>
          </div>
          <!-- Interface Shortcuts -->
          <div class="shortcutSection">
            <h3>Interface</h3>
            <div class="shortcutItem">
              <kbd>S</kbd>
              <span>Open Settings</span>
            </div>
            <div class="shortcutItem">
              <kbd>?</kbd>
              <span>Toggle Shortcuts Panel</span>
            </div>
            <div class="shortcutItem">
              <kbd>T</kbd>
              <span>Cycle through Themes</span>
            </div>
            <div class="shortcutItem">
              <kbd>Esc</kbd>
              <span>Close any Modal</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="./dist/main.js" defer></script>
  </body>
</html>
